{"version":3,"sources":["webpack:///webpack/bootstrap 89aa2c8c380abb8607c2","webpack:///external \"react\"","webpack:///external \"react-router-dom\"","webpack:///./src/shared/routes.js","webpack:///./src/shared/api.js","webpack:///./src/server/index.js","webpack:///external \"express\"","webpack:///external \"cors\"","webpack:///external \"react-dom/server\"","webpack:///external \"serialize-javascript\"","webpack:///./src/shared/App.js","webpack:///./src/shared/Home.js","webpack:///./src/shared/Grid.js","webpack:///external \"isomorphic-fetch\"","webpack:///./src/shared/Navbar.js","webpack:///./src/shared/NoMatch.js"],"names":["routes","path","exact","component","Home","Grid","fetchInitialData","split","pop","fetchPopularRepos","language","encodedURI","encodeURI","then","data","json","repos","items","catch","error","console","warn","app","use","express","static","get","req","res","next","activeRoute","find","route","url","promise","Promise","resolve","context","markup","send","listen","log","App","map","C","rest","props","Component","__isBrowser__","window","__INITIAL_DATA__","staticContext","state","loading","fetchRepos","bind","match","params","id","prevProps","prevState","lang","setState","display","flexWrap","name","owner","stargazers_count","html_url","margin","login","Navbar","languages","param","fontWeight","NoMatch"],"mappings":"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","file":"server.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 89aa2c8c380abb8607c2","module.exports = require(\"react\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react\"\n// module id = 0\n// module chunks = 0","module.exports = require(\"react-router-dom\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-router-dom\"\n// module id = 1\n// module chunks = 0","import Home from './Home'\r\nimport Grid from './Grid'\r\nimport { fetchPopularRepos } from './api'\r\n\r\nconst routes =  [\r\n  {\r\n    path: '/',\r\n    exact: true,\r\n    component: Home,\r\n  },\r\n  {\r\n    path: '/popular/:id',\r\n    component: Grid,\r\n    fetchInitialData: (path = '') => fetchPopularRepos(\r\n        path.split('/').pop()\r\n      )\r\n  },\r\n]\r\n\r\nexport default routes\n\n\n// WEBPACK FOOTER //\n// ./src/shared/routes.js","import fetch from 'isomorphic-fetch'\r\n\r\nexport function fetchPopularRepos (language = 'all') {\r\n  const encodedURI = encodeURI(`https://api.github.com/search/repositories?q=stars:>1+language:${language}&sort=stars&order=desc&type=Repositories`)\r\n\r\n  return fetch(encodedURI)\r\n    .then((data) => data.json())\r\n    .then((repos) => repos.items)\r\n    .catch((error) => {\r\n      console.warn(error)\r\n      return null\r\n    });\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/shared/api.js","import express from \"express\"\r\nimport cors from \"cors\"\r\nimport React from 'react'\r\nimport { renderToString } from \"react-dom/server\"\r\nimport serialize from \"serialize-javascript\"\r\nimport { StaticRouter, matchPath } from \"react-router-dom\"\r\n\r\nimport App from '../shared/App'\r\nimport { fetchPopularRepos } from '../shared/api'\r\nimport routes from '../shared/routes'\r\n\r\nconst app = express()\r\n\r\napp.use(cors())\r\n\r\n// We're going to serve up the public\r\n// folder since that's where our\r\n// client bundle.js file will end up.\r\napp.use(express.static(\"public\"))\r\n\r\napp.get(\"*\", (req, res, next) => {\r\n  const activeRoute = routes.find(\r\n    (route) => matchPath(req.url, route)\r\n  ) || {}\r\n\r\n  const promise = activeRoute.fetchInitialData\r\n    ? activeRoute.fetchInitialData(req.path)\r\n    : Promise.resolve();\r\n\r\n  promise.then((data) => {\r\n    const context = data;\r\n    const markup = renderToString(\r\n      <StaticRouter location={req.url} context={{ data }}>\r\n        <App />\r\n      </StaticRouter>\r\n    )\r\n  \r\n    res.send(`\r\n      <!DOCTYPE html>\r\n      <html>\r\n        <head>\r\n          <title>Server-side rendered page</title>\r\n          <script src=\"/bundle.js\" defer></script>\r\n          <script>window.__INITIAL_DATA__ = ${serialize(data)}</script>\r\n        </head>\r\n  \r\n        <body>\r\n          <div id=\"app\">${markup}</div>\r\n        </body>\r\n      </html>\r\n    `)\r\n  }).catch(next)\r\n  \r\n})\r\n\r\napp.listen(3000, () => {\r\n  console.log(`Server is listening on port: 3000`)\r\n})\n\n\n// WEBPACK FOOTER //\n// ./src/server/index.js","module.exports = require(\"express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express\"\n// module id = 5\n// module chunks = 0","module.exports = require(\"cors\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"cors\"\n// module id = 6\n// module chunks = 0","module.exports = require(\"react-dom/server\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-dom/server\"\n// module id = 7\n// module chunks = 0","module.exports = require(\"serialize-javascript\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"serialize-javascript\"\n// module id = 8\n// module chunks = 0","import React, { Component } from 'react'\nimport { Route, Switch } from 'react-router-dom'\n\nimport routes from './routes'\nimport Navbar from './Navbar'\nimport NoMatch from './NoMatch'\n\nclass App extends Component {\n  render() {\n    return (\n      <div>\n        <Navbar />\n\n        <Switch>\n         {routes.map(({ path, exact, component: C, ...rest }) => (\n            <Route\n              key={path}\n              path={path}\n              exact={exact}\n              render={(props) => (\n                <C {...props} {...rest} />\n              )}\n            />\n          ))}\n          <Route render={(props) => <NoMatch {...props} />} />\n        </Switch>\n      </div>\n    )\n  }\n}\n\nexport default App\n\n\n\n// WEBPACK FOOTER //\n// ./src/shared/App.js","import React from 'react'\r\n\r\nexport default function Home () {\r\n  return (\r\n    <div>\r\n      Select a Language\r\n    </div>\r\n  )\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/shared/Home.js","import React, { Component } from 'react'\r\n\r\nclass Grid extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    let repos\r\n    if (__isBrowser__) {\r\n      repos = window.__INITIAL_DATA__\r\n      delete window.__INITIAL_DATA__\r\n    } else {\r\n      repos = props.staticContext.data\r\n    }\r\n\r\n    this.state = {\r\n      repos,\r\n      loading: repos ? false : true,\r\n    }\r\n\r\n    this.fetchRepos = this.fetchRepos.bind(this);\r\n  }\r\n\r\n  componentDidMount () {\r\n    if (!this.state.repos) {\r\n      this.fetchRepos(this.props.match.params.id)\r\n    }\r\n  }\r\n\r\n  componentDidUpdate (prevProps, prevState) {\r\n    if (prevProps.match.params.id !== this.props.match.params.id) {\r\n      this.fetchRepos(this.props.match.params.id)\r\n    }\r\n  }\r\n\r\n  fetchRepos(lang) {\r\n    this.setState(() => ({\r\n      loading: true\r\n    }))\r\n\r\n    this.props.fetchInitialData(lang)\r\n      .then((repos) => this.setState(() => ({\r\n        repos,\r\n        loading: false,\r\n      })))\r\n  }\r\n\r\n  render() {\r\n    const { repos, loading } = this.state\r\n\r\n    if (loading === true) {\r\n      return <p>LOADING</p>\r\n    }\r\n\r\n    return (\r\n      <ul style={{display: 'flex', flexWrap: 'wrap'}}>\r\n        {repos.map(({ name, owner, stargazers_count, html_url }) => (\r\n          <li key={name} style={{margin: 30}}>\r\n            <ul>\r\n              <li><a href={html_url}>{name}</a></li>\r\n              <li>@{owner.login}</li>\r\n              <li>{stargazers_count} stars</li>\r\n            </ul>\r\n          </li> \r\n        ))}\r\n      </ul>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Grid\n\n\n// WEBPACK FOOTER //\n// ./src/shared/Grid.js","module.exports = require(\"isomorphic-fetch\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"isomorphic-fetch\"\n// module id = 12\n// module chunks = 0","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nexport default function Navbar () {\r\n  const languages = [{\r\n    name: 'All',\r\n    param: 'all'\r\n  }, {\r\n    name: 'JavaScript',\r\n    param: 'javascript',\r\n  }, {\r\n    name: 'Ruby',\r\n    param: 'ruby',\r\n  }, {\r\n    name: 'Python',\r\n    param: 'python',\r\n  }, {\r\n    name: 'Java',\r\n    param: 'java',\r\n  }]\r\n\r\n  return (\r\n    <ul>\r\n      {languages.map(({ name, param }) => (\r\n        <li key={param}>\r\n          <NavLink activeStyle={{fontWeight: 'bold'}} to={`/popular/${param}`}>\r\n            {name}\r\n          </NavLink>\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  )\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/shared/Navbar.js","import React from 'react'\r\n\r\nexport default function NoMatch () {\r\n  return (\r\n    <div>\r\n      Four Oh Four\r\n    </div>\r\n  )\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/shared/NoMatch.js"],"sourceRoot":""}